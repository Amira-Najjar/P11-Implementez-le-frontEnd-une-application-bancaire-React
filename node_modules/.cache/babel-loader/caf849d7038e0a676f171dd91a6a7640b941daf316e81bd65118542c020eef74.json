{"ast":null,"code":"export function fetchUserProfile(token) {\n  return async dispatch => {\n    try {\n      const response = await fetch('http://localhost:3001/api/v1/user/profile', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: token\n        }\n      });\n      if (!response.ok) {\n        throw new Error('Failed to fetch user profile');\n      }\n      const data = await response.json();\n      const firstName = data.body.firstName;\n\n      // Met à jour le state avec le firstName\n      dispatch({\n        type: 'FETCH_USER_PROFILE_SUCCESS',\n        payload: {\n          firstName\n        }\n      });\n    } catch (error) {\n      dispatch({\n        type: 'FETCH_USER_PROFILE_FAILURE',\n        payload: error.message\n      });\n    }\n  };\n}","map":{"version":3,"names":["fetchUserProfile","token","dispatch","response","fetch","method","headers","Authorization","ok","Error","data","json","firstName","body","type","payload","error","message"],"sources":["C:/Users/Amira/Desktop/argent-bank/src/User/fetchUserProfile.js"],"sourcesContent":["export function fetchUserProfile(token) {\r\n    return async (dispatch) => {\r\n      try {\r\n        const response = await fetch('http://localhost:3001/api/v1/user/profile', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            Authorization: token\r\n          }\r\n        });\r\n  \r\n        if (!response.ok) {\r\n          throw new Error('Failed to fetch user profile');\r\n        }\r\n  \r\n        const data = await response.json();\r\n        const firstName = data.body.firstName;\r\n  \r\n        // Met à jour le state avec le firstName\r\n        dispatch({ type: 'FETCH_USER_PROFILE_SUCCESS', payload: { firstName } });\r\n      } catch (error) {\r\n        dispatch({ type: 'FETCH_USER_PROFILE_FAILURE', payload: error.message });\r\n      }\r\n    };\r\n  }\r\n  "],"mappings":"AAAA,OAAO,SAASA,gBAAgBA,CAACC,KAAK,EAAE;EACpC,OAAO,MAAOC,QAAQ,IAAK;IACzB,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,2CAA2C,EAAE;QACxEC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE,kBAAkB;UAClCC,aAAa,EAAEN;QACjB;MACF,CAAC,CAAC;MAEF,IAAI,CAACE,QAAQ,CAACK,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,8BAA8B,CAAC;MACjD;MAEA,MAAMC,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;MAClC,MAAMC,SAAS,GAAGF,IAAI,CAACG,IAAI,CAACD,SAAS;;MAErC;MACAV,QAAQ,CAAC;QAAEY,IAAI,EAAE,4BAA4B;QAAEC,OAAO,EAAE;UAAEH;QAAU;MAAE,CAAC,CAAC;IAC1E,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdd,QAAQ,CAAC;QAAEY,IAAI,EAAE,4BAA4B;QAAEC,OAAO,EAAEC,KAAK,CAACC;MAAQ,CAAC,CAAC;IAC1E;EACF,CAAC;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}